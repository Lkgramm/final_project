<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <title>Friends Chat</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 min-h-screen p-6">
  <div class="max-w-xl mx-auto bg-white p-6 rounded-xl shadow">
    <h1 class="text-2xl font-bold mb-4">üí¨ –ß–∞—Ç —Å –ø–µ—Ä—Å–æ–Ω–∞–∂–∞–º–∏ ¬´–î—Ä—É–∑–µ–π¬ª</h1>

    <form method="post" class="space-y-4">
      <textarea name="prompt" rows="4" required
                class="w-full border p-3 rounded" placeholder="–í–≤–µ–¥–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ...">{{ prompt or '' }}</textarea>

      <select name="character" class="w-full border p-2 rounded">
        {% for name in ['phoebe', 'ross', 'rachel', 'joey', 'chandler', 'monica'] %}
          <option value="{{ name }}" {% if character == name %}selected{% endif %}>{{ name.title() }}</option>
        {% endfor %}
      </select>

      <button class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 w-full">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
    </form>

    {% if response %}
    <div class="mt-4 bg-gray-100 p-3 rounded border">
      <h2 class="text-sm text-gray-500 mb-1">–û—Ç–≤–µ—Ç:</h2>
      <p class="whitespace-pre-line">{{ response }}</p>
    </div>
    {% endif %}

    <hr class="my-6" />

    <h2 class="text-lg font-semibold mb-2">üìú –ù–µ–¥–∞–≤–Ω–∏–µ —á–∞—Ç—ã</h2>
    <ul class="list-disc pl-6 text-sm">
      {% for session in sessions %}
        <li>
          <a href="/history_ui/{{ session.id }}" class="text-blue-600 hover:underline">
            {{ session.character }} ‚Äî {{ session.created_at.strftime('%Y-%m-%d %H:%M:%S') }}
          </a>
        </li>
      {% endfor %}
    </ul>
  </div>
</body>
</html>
