# Friends LLM Chat

AI-—á–∞—Ç —Å –ø–µ—Ä—Å–æ–Ω–∞–∂–∞–º–∏ —Å–µ—Ä–∏–∞–ª–∞ "–î—Ä—É–∑—å—è", —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π –Ω–∞ –±–∞–∑–µ FastAPI, Jinja2 –∏ –º–æ–¥–µ–ª–∏ Google Gemma (—á–µ—Ä–µ–∑ LM Studio).

## üåê –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è

* üñ•Ô∏è **API —Å–µ—Ä–≤–µ—Ä** —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ —É–¥–∞–ª—ë–Ω–Ω–æ–π –º–∞—à–∏–Ω–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, VPS), –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –∑–∞–ø—Ä–æ—Å—ã –æ—Ç —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞ –∏ API.
* üß† **ML –º–æ–¥–µ–ª—å (Gemma)** –∑–∞–ø—É—â–µ–Ω–∞ –ª–æ–∫–∞–ª—å–Ω–æ —á–µ—Ä–µ–∑ LM Studio.
* üå©Ô∏è –î–æ—Å—Ç—É–ø –∫ –º–æ–¥–µ–ª–∏ –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ **Cloudflare Tunnel**, –ø—Ä–æ–±—Ä–∞—Å—ã–≤–∞—é—â–∏–π LM Studio –Ω–∞—Ä—É–∂—É.

## üåü –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

* –û—Ç–≤–µ—Ç—ã –æ—Ç 6 –≥–µ—Ä–æ–µ–≤: –§–∏–±–∏, –†–æ—Å—Å, –†–µ–π—á–µ–ª, –î–∂–æ—É–∏, –ß–µ–Ω–¥–ª–µ—Ä, –ú–æ–Ω–∏–∫–∞
* –ü—Ä–æ–º–ø—Ç—ã, —Å—Ç–∏–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –ø–æ–¥ –æ–±—Ä–∞–∑ –º—ã—Å–ª–µ–π –≥–µ—Ä–æ–µ–≤
* –í–µ–±-—Ñ–æ—Ä–º–∞ —Å HTML/Tailwind
* API /chat —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π JSON

## üöÄ –ó–∞–ø—É—Å–∫

### 1. üö´ –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:

* Python 3.10+
* LM Studio –∑–∞–ø—É—â–µ–Ω –õ–û–ö–ê–õ–¨–ù–û –Ω–∞ `localhost:1234`
* Cloudflare Tunnel –Ω–∞—Å—Ç—Ä–æ–µ–Ω –¥–ª—è –ø—É–±–ª–∏—á–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –∫ LM Studio
* Docker

### 2. üìÅ –£—Å—Ç–∞–Ω–æ–≤–∫–∞:

```bash
poetry install
poetry run uvicorn src.app.main:app --reload
```

### 3. ‚öñÔ∏è Docker:

```bash
docker-compose up --build
```

## üí° API

POST `/chat/chat`

```json
{
  "prompt": "–ü—Ä–∏–≤–µ—Ç, –∫–∞–∫ –¥–µ–ª–∞?",
  "character": "—Ñ–∏–±–∏"
}
```

Response:

```json
{
  "response": "–ü—Ä–∏–≤–µ–µ–µ–µ—Ç! –ö–∞–∫ –¥–µ–ª–∞? –Ø —Ç–æ–ª—å–∫–æ —á—Ç–æ —Å–æ—á–∏–Ω–∏–ª–∞ –ø–µ—Å–Ω—é –ø—Ä–æ —Å–∞–ª—Ñ–µ—Ç–∫–∏!"
}
```

## üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
final_project
‚îú‚îÄ‚îÄ src/app
‚îÇ   ‚îú‚îÄ‚îÄ main.py          # FastAPI app
‚îÇ   ‚îú‚îÄ‚îÄ api.py           # JSON API
‚îÇ   ‚îú‚îÄ‚îÄ web.py           # HTML —Ñ–æ—Ä–º–∞
‚îÇ   ‚îú‚îÄ‚îÄ llm/gemma_client.py  # –ó–∞–ø—Ä–æ—Å—ã –∫ LM Studio
‚îÇ   ‚îî‚îÄ‚îÄ templates/index.html
‚îú‚îÄ‚îÄ tests/test_chat.py   # API —Ç–µ—Å—Ç—ã
‚îú‚îÄ‚îÄ docker-compose.yml
‚îî‚îÄ‚îÄ README.md
```

## üîß TODO / –ò–¥–µ–∏ –ø–æ –¥–æ—Ä–∞–±–æ—Ç–∫–µ

### üîç –†–µ–∂–∏–º—ã:

* [ ] –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã (top-N sampling)
* [ ] –ò—Å—Ç–æ—Ä–∏—è –¥–∏–∞–ª–æ–≥–∞ —Å –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–º
* [ ] –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —è–∑—ã–∫–∞: EN/RU


